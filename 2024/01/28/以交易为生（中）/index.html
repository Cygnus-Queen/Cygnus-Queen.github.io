

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/fluid.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="Cygnus">
  <meta name="keywords" content="">
  
    <meta name="description" content="这部分主要包括如何构建交易系统 交易系统是寻找、进入和退出交易的一整套规则一些人有着严格定制化的交易系统，给个人留有的决策空间很小——我们可以称他们为机械化的交易者。而另一些人给自我判断留下巨大的空间——我们称他们为自由决策的交易者 不管你采用什么样的交易方法，交易系统的重要优势是你可以在闭市的时间并且当你处于冷静的状态时，去设计它。交易系统会成为你在市场波动中的理性行为之锚。 毋庸置疑，一个合适">
<meta property="og:type" content="article">
<meta property="og:title" content="以交易为生（中）">
<meta property="og:url" content="http://example.com/2024/01/28/%E4%BB%A5%E4%BA%A4%E6%98%93%E4%B8%BA%E7%94%9F%EF%BC%88%E4%B8%AD%EF%BC%89/index.html">
<meta property="og:site_name" content="Cygnus的博客">
<meta property="og:description" content="这部分主要包括如何构建交易系统 交易系统是寻找、进入和退出交易的一整套规则一些人有着严格定制化的交易系统，给个人留有的决策空间很小——我们可以称他们为机械化的交易者。而另一些人给自我判断留下巨大的空间——我们称他们为自由决策的交易者 不管你采用什么样的交易方法，交易系统的重要优势是你可以在闭市的时间并且当你处于冷静的状态时，去设计它。交易系统会成为你在市场波动中的理性行为之锚。 毋庸置疑，一个合适">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/2024/01/28/%E4%BB%A5%E4%BA%A4%E6%98%93%E4%B8%BA%E7%94%9F%EF%BC%88%E4%B8%AD%EF%BC%89/Pasted%20image%2020240128190943.png">
<meta property="og:image" content="http://example.com/2024/01/28/%E4%BB%A5%E4%BA%A4%E6%98%93%E4%B8%BA%E7%94%9F%EF%BC%88%E4%B8%AD%EF%BC%89/Pasted%20image%2020240129205211.png">
<meta property="og:image" content="http://example.com/2024/01/28/%E4%BB%A5%E4%BA%A4%E6%98%93%E4%B8%BA%E7%94%9F%EF%BC%88%E4%B8%AD%EF%BC%89/Pasted%20image%2020240129213854.png">
<meta property="og:image" content="http://example.com/2024/01/28/%E4%BB%A5%E4%BA%A4%E6%98%93%E4%B8%BA%E7%94%9F%EF%BC%88%E4%B8%AD%EF%BC%89/Pasted%20image%2020240129221257.png">
<meta property="og:image" content="http://example.com/2024/01/28/%E4%BB%A5%E4%BA%A4%E6%98%93%E4%B8%BA%E7%94%9F%EF%BC%88%E4%B8%AD%EF%BC%89/Pasted%20image%2020240129222200.png">
<meta property="article:published_time" content="2024-01-28T10:25:54.000Z">
<meta property="article:modified_time" content="2024-01-31T10:32:04.896Z">
<meta property="article:author" content="Cygnus">
<meta property="article:tag" content="投资理财">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://example.com/2024/01/28/%E4%BB%A5%E4%BA%A4%E6%98%93%E4%B8%BA%E7%94%9F%EF%BC%88%E4%B8%AD%EF%BC%89/Pasted%20image%2020240128190943.png">
  
  
  
  <title>以交易为生（中） - Cygnus的博客</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.9.5","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 7.0.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Cygnus</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                <span>分类</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/%E4%BB%99%E5%89%91%E9%97%AE%E6%83%85%E5%A5%B3%E7%A5%9E.jpg') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="以交易为生（中）"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2024-01-28 18:25" pubdate>
          2024年1月28日 晚上
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          11k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          94 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">以交易为生（中）</h1>
            
            
              <div class="markdown-body">
                
                <p>这部分主要包括如何构建交易系统</p>
<p>交易系统是寻找、进入和退出交易的一整套规则<br>一些人有着严格定制化的交易系统，给个人留有的决策空间很小——我们可以称他们为机械化的交易者。而另一些人给自我判断留下巨大的空间——我们称他们为自由决策的交易者</p>
<p>不管你采用什么样的交易方法，<strong>交易系统的重要优势是你可以在闭市的时间并且当你处于冷静的状态时，去设计它。交易系统会成为你在市场波动中的理性行为之锚。</strong></p>
<p>毋庸置疑，一个合适的交易系统是被写下来的。交易系统需要被记录下来是因为在现实的市场压力之下，一些重要的步骤很容易被遗忘</p>
<p>机械交易者建立了一整套准则，用历史数据进行测试，然后把它们放到系统中进行自动交易。再进一步，他的软件开始提示入场、目标和退出指令。一个机械交易者应该准确地按系统提示的进行操作。他们是否要遵循他的计划或者尝试扭曲、忽视这些信号便是另一番情况了，但是以上这些是系统应当运作的方式</p>
<p>自主决策的交易者在市场中每天都会更新交易策略。他会更倾向于比机械性交易者检查更多的因素，在不同时段给予它们不同的权重，并且更协调地跟随着最新市场行为的变化</p>
<p>谈及交易设置，在你交易操作之前，计划好所有相关的目标数值是非常重要的。<strong>在你还没有承担真实的风险之前，你是更加客观的</strong>；一<strong>旦你进入交易，你会倾向于认为“有更大的空间”。这也是失败者怎样从小的回撤变成灾难性损失的。我曾经建议过一个人在浮亏200美元时割肉，他拒绝了，直到账面损失98000美元时才清仓</strong></p>
<p>我们将会在后面章节讨论“风险控制的铁三角”概念的时候集中说明风险和资金管理。在这时候，我只想明确风险管理在严肃交易中是必不可少的。看着天花板说“我要交易500股”“我要交易1000股”，或诸如此类随意的数字，是不可取的。在本书后面的章节，你将学习到一些<strong>基于你的账户规模和风险容忍度之上的简单的公式，来计算交易持仓量。</strong></p>
<p>在写这本书的时候，我有三条投资的策略：<br>（1）我最喜欢的是背离时的假突破；<br>（2）第二条是股价在强势趋势中回调到价值区间时；<br>（3）最后一条，我偶尔退到另一个极端——会在已过度扩张的趋势反转时下筹码。<br>每一个交易策略都有其准则，但是核心是——我只会进行符合其中之一策略的交易。对老手来说绝不会做过于随机的事情</p>
<p>请注意每个交易计划都需要以下几个重要特征：<br>（1）交易设置——为每一笔交易计划好三个关键的数字：<strong>买入价位、盈利目标价位和止损价位</strong>。在进入市场进行交易之前，你需要决定你将愿意以什么价格成交，你期望从市场中获得的收益和你愿意遭受的风险。潜在收益与风险的比例通常最好要超过2∶1。唯一可以偏离这条准则的交易时机是，当技术指标的信号特别强烈的时候。当然，<strong>不要捏造你的目标来把一个不是很确定的交易转为一个可以接受的交易。你的交易目标需要贴近实际。</strong><br>（2）风险管理——事先确定你能承受在这笔交易中损失多少钱。用最大损失金额除以股数，得到每一股的可承受的损失——也就是你的买入价格和止损价格之间的差额。这将限制你交易的股数。<br>（3）最后同样重要的是，每一笔单独的交易都必须建立在特定的系统和战略之上。“在我看来很不错”这种想法并不是一个系统！当你听到一些股票提示或者看到脱缰而上的趋势时，会很容易变得激动。但是要告别像小狗追逐汽车那样去追逐股票了。如果你想以交易为生，你需要确定清楚自己的交易计划、战略或系统——用自己喜欢的方式来称它们——仅仅参与那些符合它们标准的交易机会。<br>注意：对每个计划的交易都要从三个重要的角度去考虑。我们会在这里做简短的介绍，之后在讲特定交易系统和风险管理的时候再做详尽的阐述。这三条要求对于严肃认真进行交易的任何人来说都是至关重要的。</p>
<h2 id="三重滤网交易系统"><a href="#三重滤网交易系统" class="headerlink" title="三重滤网交易系统"></a>三重滤网交易系统</h2><p>三重滤网交易系统对每次操作进行三重测试或过滤。许多交易机会在一个蜡烛图界面看起来非常有吸引力，但在另一个时间周期的界面却看起来情况相反。通过三重滤网交易系统筛选的交易机会成功可能性要大很多。</p>
<p>实际上市场是如此复杂，很难用一种指标来分析，不同的指标在相同的市场之中给出相互矛盾的信号。趋势跟随指标随着股价的上升而上升并给出买入信号，然而此时震荡指标会显示为超买，而给出卖出信号。趋势跟随指标在股价下降的趋势中同步向下，并给出卖出的信号；但此时震荡指标却显示为超卖，并给出买入的信号。</p>
<p>趋势跟随指标在市场做趋势运动时能盈利，但在市场区间震荡时会导致受双倍的损失。震荡指标在震荡区间内能盈利，但是当市场开始形成趋势的时候，会给出过早的、危险的信号。交易者常说“学会和趋势做朋友”和“让你的盈利跑起来”。他们有时候也说“低买，高卖”。但是为什么要在趋势上升的时候卖？还有涨得多高算高呢？</p>
<p><strong>如果你更多地使用趋势跟随指标，结果将会指向一个方向，但如果你更多地使用震荡指标，结果会指向另一个方向。交易者总是能找到符合他所想听的信息的一组技术指标</strong></p>
<p>三重滤网交易系统设计出来就是为了过滤掉趋势跟随指标和震荡指标的缺陷，同时保留它们的优势</p>
<h4 id="选择时间周期"><a href="#选择时间周期" class="headerlink" title="选择时间周期"></a>选择时间周期</h4><p>有一个重大的困境是交易品种的趋势在不同时间周期下很可能并非同时上升或下降的。任意品种的日线图可能展现的是向上的趋势，然而周线图显示的却是下降的趋势，反之亦然。我们需要一个系统来解决不同时间周期之间信号的冲突。</p>
<p><strong>三重滤网交易系统建立的基础是，市场的每一个时间周期对其大一号或小一号的时间周期，大概是五倍的关系</strong></p>
<p>开始时不妨问问自己，哪一个是你最喜欢的时间周期。周线图、日线图，还是10分钟或者其他线图？无论你喜欢用哪一个时间周期，三重滤网交易系统称之为中期时间周期。长其一号的是长期时间周期。短其一号的是短期时间周期。一旦你选定了中期时间周期，你先不用去看它，而是先去查看大一号的长期时间周期的线图，并且在长期时间周期线图里做好战略决策，然后再回到中期时间周期的线图中去</p>
<p>举个例子，如果有一笔交易你想持有几天或者几个星期，你的中期时间周期很可能被定义为日线图。周线图是尺度大一号的时间周期，即长期时间周期。1小时线图是尺度小一号的时间周期，因此是短期时间周期。</p>
<p>三重滤网交易系统首先要求你去检查长期时间周期图表，找出长期图表中的大趋势。它仅允许你顺着大趋势的方向进行交易。它使用中期图表中的趋势与长期趋势方向相反时的机会建立头寸。举个例子来说，就是当周趋势是上升的时候，则在日趋势下降时买入。当周趋势是下降的时候，则日趋势上升时是卖出的机会。</p>
<ol>
<li><p><strong>第一重滤网——市场潮流</strong><br> 三重滤网从分析长期图表开始——首先分析比你准备用以交易的时间周期大一个尺度的时间周期。大多数交易者仅仅对日线图给予关注，每个人都看着相同的几个月的数据。如果你开始分析周线图时，你的视角会比你的竞争者大出五倍。</p>
<p> 开始的第一步，你需要选择你喜欢的时间周期作为中期时间周期。此时，甚至不用瞥一眼中期时间周期，因为先去看它会使你产生先入为主的偏见。直接去看大一个尺度的时间周期——你的长期时间周期图表。在那里你将做出市场是牛市还是熊市的战略决策。然后，再回到中期时间周期来，开始做策略性的决策，比如在什么位置买入和在什么位置设置止损。</p>
<p> 最初版本的三重滤网使用周线MACD的斜率作为周线趋势的跟随指标（见图39-1）。它非常敏感并能给出许多的买卖信号。后来，我转而使用周线指数移动平均的斜率来作为长期图表的趋势跟随工具。再后来我发明了动力系统（后面章节将会对动力系统进行描述），并开始在第一重滤网中使用它。动力系统结合了前两者的优点。它不像MACD那样急剧变化但又要比EMA斜率的反应更加迅速。</p>
<p> <strong>使用周线图MACD作为三重滤网中的第一重（我这里应该是月线图）</strong><br> 三重滤网要求我们在看日线图之前，先要去分析周线图。MACD的斜率由最近两根MACD线柱之间的关系确定。<br> 这个指标会在它的斜率转而向上时发出买入的信号，在斜率向下时发出卖出的信号。<br> <strong>最佳的买入信号出现在MACD低于中心线位置，但方向转而向上的时候</strong><br> <strong>最佳的卖出信号出现在当MACD在中心线上方位置，但方向转而向下的时候</strong>（详见第32节的指标部分）。</p>
<p> <strong>当MACD的斜率转而向上时（箭头A、C和E），它只允许我们在买入或者观望的方向上交易。当斜率转而向下时，它只允许我们在卖出或者观望的方向上交易。</strong></p>
<pre><code class="hljs"> ![](Pasted image 20240128190043.png)
</code></pre><p> 注意在A点或者E点的买入信号要比在C点的买入信号质量高——因为C点的买入信号产生在中心线之上。在春天的时候买入总比在夏天的时候买入要好。在图表的右边界上，上升的趋势十分强势，因为信号E点伴随着涨背离：价格的底部变深（A和E）伴随着MACD指标的底部变浅了。</p>
</li>
</ol>
<p><strong>第一重滤网总结：使用趋势跟随指标识别周趋势并随着趋势的方向交易。</strong></p>
<p><strong>交易者有三种选择：买、卖或者观望。三重滤网交易系统的第一重会帮你排除其中一个选项。它的作用像监察员一样，在上升的趋势里只允许你选择买入或者观望；在下行的趋势里只允许你卖空或观望。你必须顺应潮流的方向，否则它会禁止你下水。</strong></p>
<ol>
<li><p><strong>第二重滤网——市场波浪</strong><br> 当周趋势是上升的，日趋势的回调正是很好的买入机会。当周趋势是下降的，日趋势的上升正是很好的卖出机会。</p>
<p> 第二重滤网：将震荡指标应用于日线图之中。在周线的上升趋势中，利用日线的回调来寻找买入机会；在周线的下降趋势中，利用日线的反弹来寻找卖空机会。我喜欢在第二重滤网使用强力指数(force index)，这个指标在第30节已经介绍过。其他一些震荡指标，比如相对强弱指标(RSI)、埃尔德射线(Elder-ray)和随机指标(stochastic)等表现得也很不错。</p>
<p> 当周趋势是上升的，三重滤网仅允许采用日线图震荡指标发出的买入信号，而不会允许采用其发出的卖空信号。2日强力指数指标EMA在降到0值以下的时候，只要它不是下降到了几周内的新低点，就会发出买入信号。当周趋势是下降的，强力指数指标会在上升到中心线上方的时候，只要它不是上升到几周内的新高点，就发出卖空的信号</p>
<p> 2日强力指数指标EMA可以用作三重滤网交易系统第二重的众多震荡指标之一。当它下降到其中心线之下的时候，强力指数标记出买入的机会。当它上升到其中心线之上的时候，它会标记出卖出的机会。当周趋势是上升的（这里用绿色的水平线标出），在日线震荡指标中仅采用买入信号，以建立多头头寸。当周趋势是下降的（这里用红色的水平线标出），在日线震荡指标中仅采用卖出的信号，以建立空头头寸。</p>
<p> 总结：在第一层滤网的趋势上进行交易，趋势是上涨，则在回调时利用震荡指标寻找买入机会</p>
</li>
<li><p><strong>第三重滤网——买入技术</strong><br> 后续再补充，暂时没看懂</p>
</li>
</ol>
<p><img src="Pasted image 20240128190943.png" srcset="/img/loading.gif" lazyload alt></p>
<h4 id="止损和止盈目标"><a href="#止损和止盈目标" class="headerlink" title="止损和止盈目标"></a>止损和止盈目标</h4><p>对于成功的交易来说合适的资金管理是至关重要的。一个纪律严明的交易者会在盈利目标处兑现利润和快速止损，他们的表现远比那些抱有幻想和在错误交易上逗留的交易者要好。</p>
<p>在你进入一个交易之前，写下三个数字：<strong>买入价位、盈利目标价位和止损价位</strong>。<strong>没有定好这三个数字的交易便是赌博。</strong></p>
<p>三重滤网交易系统要求<strong>使用长期图表来设置止盈点</strong>，<strong>使用中期图表来设置止损点</strong>。如果你是使用周线图和日线图搭配的，则在周线图上设好盈利目标，在日线图上设好止损目标。当在日线图的回调中买入时，用周线图的价值区间（见两条EMA线）作为盈利目标是一个好的选择。用25分钟线和5分钟线搭配使用做日内交易时，在25分钟线上找到盈利目标，然后在5分钟线设置好止损位，当你控制住了风险的时候，你更容易得到一个好的结果。</p>
<p>三重滤网交易系统需要设置相对保守的止损价位。它既然让你按照市场大趋势的方向进行交易，就不允许为损失留太多空间。跟上潮流或者马上退出。我们之后将在第54节回到这个话题，“如何设置止损点”。</p>
<h2 id="动力系统"><a href="#动力系统" class="headerlink" title="动力系统"></a>动力系统</h2><p>要度量任意交易品种的惯性，一个好的指标是短期EMA的斜率。上升的EMA意味着具有牛市惯性，而下降的EMA则说明具有熊市惯性。</p>
<p>任意趋势的能量可以用MACD柱状线的斜率来表示。如果它的最近一根线柱比其前一根线柱的高度要高（像字母m-M的高度变化），或者是比其前一根线柱的深度要浅（像字母y-v的深度变化），则MACD柱状线的斜率是上升的，所以它的能量是向上推动的。如果最近一根线柱比其前一根线柱要低（像字母M-m的高度变化或字母v-y的深度变化），则MACD柱状线的斜率是下降的，所以它的能量是向下推动的。</p>
<p>当我们使用MACD柱状线来定义能量时，它是否高于或者低于零是无关紧要的：真正重要的是最近两条MACD线柱之间的高低关系。<br><img src="Pasted image 20240129205211.png" srcset="/img/loading.gif" lazyload alt></p>
<p>（1）EMA上升、MACD上升（特别是小于0时）=动力系统显示是绿色，牛市，禁止卖空，允许买入或观望。<br>（2）EMA下降、MACD下降（特别是大于0时）=动力系统显示是红色，熊市，禁止买入，允许卖出或观望。<br>（3）EMA上升、MACD下降=动力系统显示是蓝色，中性，无禁止事项。<br>（4）EMA下降、MACD上升=动力系统显示是蓝色，中性，无禁止事项。</p>
<p>最初，我想用这个系统完全实现自动化交易——绿色时买入，红色时卖空，当颜色变换后则兑现利润。<strong>对动力系统做的回测让我打消了这个主意</strong>。<strong>自动交易系统成功抓住了每一个趋势机会，但是在区间震荡时，它会在红色和绿色之间反复转换，结果两头都遭受亏损</strong>。</p>
<p>**动力系统不是一个自动交易系统，而是一个监测系统！能够加强任何一种寻找交易机会的方法，无论是技术分析还是基本面分析。</p>
<p><img src="Pasted image 20240129213854.png" srcset="/img/loading.gif" lazyload alt><br><strong>垂直的绿色箭头标志的柱线后面紧跟着红色的柱线。红色禁止你买入。最好的买入时机是当红色消失的时候。你能看到这些绿色箭头指示出一个接一个的中期底部，包括在图表右边界的买入信号。拥有一个客观的方法能让你在市场下降停止的时候有买入的信心。</strong></p>
<p><strong>动力系统也会对兑现利润的好时机给出建议。倾斜的红色箭头指向蓝色柱线，蓝色柱线出现在一系列远离价值区域的绿色柱线之后。它们显示牛市上行受阻的位置——兑现盈利的好时机，并等待下一个买入机会。</strong></p>
<h4 id="入场时机"><a href="#入场时机" class="headerlink" title="入场时机"></a>入场时机</h4><p><strong>在你将动力系统应用到最喜欢的市场时，记住三重滤网系统要求在多于一个时间周期内进行分析。选择你最喜欢的时间周期，并将之定为中期时间周期。将其周期乘以5倍，找到长期时间周期。==如果你最喜欢的图表是日线图，首先去分析周线图，并做出看多或看空的战略决策。再使用动力系统来决定何时允许进行买入或者卖空。</strong>==</p>
<p><strong>如果你认为市场正在形成顶部，趋势即将反转。监控周线图和日线图的动力系统，如果任意一个仍然显示是绿色，说明上升趋势依然没有消失，禁止卖空。当两个时间周期的绿色都消失了时，你才可以卖空。</strong></p>
<p>时间周期越短，它的信号就会越敏感：日线图上的动力系统开始改变颜色总会先于周线图。当做日内交易时，5分钟线图改变颜色要比25分钟线图早。</p>
<p>如果我的分析表明市场正在筑底，即将开始反转，我会等到日线图不再显示变红，开始变蓝，甚至变绿，然后我再去观察周线图，这时它仍然是红色的。<strong>一旦周线图从红色变蓝，系统会开始允许买入。这种技术防止我当市场仍在下降的时候过早买入。</strong></p>
<p><strong>记住，动力交易系统是一个监测系统。它不会告诉你应该做什么——但是它会很明确地告诉你不该做什么。不要违背这个监测。</strong></p>
<p>许多技术分析软件都包含一种功能，叫“条件格式”。它允许根据EMA和MACD的斜率给柱线或蜡烛图上色。<strong>如果你使用的软件平台不允许条件格式功能，你仍然有办法使用动力系统。直接观察EMA和MACD的斜率：将它们结合起来分析，你就知道最新一根线柱应该是什么颜色了。</strong></p>
<p>如果懂编程的话，你可以给动力系统加入更多的功能。你可以检验EMA的不同长度或者MACD的不同设置，来找到市场中最合适你的那些组合。日内交易者可以编制警示声音来协助监测多个市场中颜色的变化，而不必紧盯着屏幕。</p>
<h4 id="退出时机"><a href="#退出时机" class="headerlink" title="退出时机"></a>退出时机</h4><p>如果你是个短期动量交易者，一旦动力系统显示的颜色不再支持你的交易方向，则马上了结你的交易，即使在两个时间周期中只有其中一个改变了颜色。通常，日线MACD的反转要快于周线MACD。当它在上升趋势中下降，表明上升的动量正在减弱。</p>
<p>当买入的信号消失时，马上兑现收益，而不是等待出现卖出的信号。在下降的趋势中将这个做法反转一下。一旦动力系统不再显示红色，即使两个时间周期中只有其中一个改变了颜色，也马上清空你的空头头寸。最有效的下降部分已经结束，动力系统已经完成了它的使命。</p>
<p>==<strong>动力交易系统鼓励你小心谨慎地入场，但快速地退出。这是专业的交易方法。初学者往往与之背道而行，猛然跳入交易中，然后永不再退出，期待市场改变方向。</strong>==</p>
<p>如果两个时间周期中的任意一个变成了蓝色，波段交易者或许仍会持有交易头寸。波段交易者要避免时间周期中任意一个的颜色与交易的方向变得相反。如果你是多头，时间周期中的一个变成红色，则是时候卖出并空仓观望了；如果你是空头，当动力系统开始变绿，它就发出了让你平掉空头头寸的信号。</p>
<p>动力系统通过展示通常什么情况下漫无目的、毫无组织的群体开始变得情绪化并开始奔跑，以帮助你在市场混乱的狂流中识别出秩序。在趋势的形态刚刚浮现时入场，并在其开始沉入混乱的海洋前退出。</p>
<h2 id="通道交易系统"><a href="#通道交易系统" class="headerlink" title="通道交易系统"></a>通道交易系统</h2><p>当价格开始上升的时候，它经常在碰到隐形的天花板时停止上涨。它的下降似乎也在碰到隐形的地板时停止下跌。<strong>通道帮助我们预测未来在哪儿最可能遇到支撑线和阻力线。</strong></p>
<p>通道能帮助识别买卖机会和避免错误的交易。交易通道的最初研究者是薛斯，他在他1970年出版的《股票交易时机的获利法宝》一书中，进行了阐述。</p>
<p>后来，伟大的数学家本华·曼德博(Benoit Mandelbrot)被埃及政府聘请建立一个棉花价格的数学模型——棉花是埃及主要出口农产品。经过广泛的调研，他做出了结论：“价格围绕价值上下波动。”这听起来简单，但是事实上是很深刻的。</p>
<p><strong>如果我们接受了这个数学发现，并且如果我们能够有手段来定义价值，并且能测量平均的波动，我们将会拥有一个交易系统</strong>：只需要在价格低于价值的时候买入，在达到价值的时候兑现利润；在价格高于价值的时候卖空，然后在回到价值时回补空头头寸。</p>
<p>我有一个严格的 准则就是：==<strong>永远不要在上通道线之上买入，也不要在下通道线之下卖出</strong>==。<br>这 个准则会导致我错过一些趋势机会，但我的安全性得到了极大的提升  </p>
<h3 id="构建通道的两种方法"><a href="#构建通道的两种方法" class="headerlink" title="构建通道的两种方法"></a>构建通道的两种方法</h3><p>我们可以通过绘制两条平行于一条移动均线的线组，来构建一个通道：一条线在移动平均线上方，另一条线在移动平均线下方。我们可以根据市场的波动性来改变两条通道线之间的距离（标准背离通道）。</p>
<p>以移动均线为对称中心的通道线对股票和期货交易都很有用。标准背离通道（有时也叫作<strong>布林通道</strong>）对于期权交易十分有用。</p>
<p>通道界定了价格正常波动和不正常波动之间的界限。价格在通道中运行是正常的，只有非正常的时间驱动才会使价格波动到通道之外。价格在通道的下轨线之下的时候，是被低估了；价格在通道的上轨线之上的时候，是被高估了。</p>
<h4 id="对称的通道"><a href="#对称的通道" class="headerlink" title="对称的通道"></a>对称的通道</h4><p>之前我们已经讨论过使用两条移动均线为一组，来进行交易。使用这组移动均线，并将<strong>长期移动均线作为通道线的核心</strong>。举个例子来说，<strong>如果你使用13日和26日EMA这组线，则通道线是平行于26日EMA线的。</strong></p>
<p>通道的宽度依赖于交易者选择的系数。这个系数通常用EMA的百分比来表示。<br>上通道线=EMA+通道系数×EMA<br>下通道线=EMA-通道系数×EMA</p>
<p>当为任意市场设置通道线的时候，<strong>开始通道系数可以设置为3%或者5%，然后不断调整通道系数值，直到通道线把最近100根线柱的所有价格数据中大约95%的包含在内，在日线图上大约是5个月时间长度</strong>。这很像试穿衬衫：你寻找那些穿起来不是太松也不是太紧的衬衣，只把你的手腕和脖子露在外头。同样，只有极端的价格会跑到已经画好的通道外面。</p>
<p><strong>波动较大的市场需要较宽的通道，而沉寂的市场需要较窄的通道。</strong></p>
<p><strong>便宜的股票通常比高价股票有更高的波动率。</strong></p>
<p><strong>长时间周期的线图需要的通道更宽。根据经验，周线图的通道宽度会是日线图的两倍。</strong></p>
<p>我过去常常靠手动画通道线，直到我的程序员为几个软件包编写了一个插件，叫作<strong>自动包络</strong>。它能自动地为任意交易品种，在任意时间周期里，画出正确的通道线（见图41-1）。在为多款流行程序设计的“埃尔德盘”中可以找到它。</p>
<p><img src="Pasted image 20240129221257.png" srcset="/img/loading.gif" lazyload alt></p>
<p>这个图表展示了2014年3月期的欧元外汇期货(ESH14)最近几个月时间内的交易情况。期货要比不透明的外汇交易要透明和真实很多。只要我需要做外汇交易，我首选外汇期货。</p>
<p>指数移动平均反映了在一定时间内市场对于价值的一致认同。<br>当价格靠近移动均线时，市场定价是公允的。<br>当价格下降到靠近下通道线的时候，则是被低估的；<br>当价格上升到接近上通道线时，则是被高估的。<br>通道线帮助我们在市场便宜的时候找到买入机会，而在市场被高估的时候找到做空的机会。</p>
<p>在上通道线上，熊市的背抵着墙壁与牛市进行搏斗；而在下通道线，牛市的背抵着墙壁与熊市搏斗。当我们的背抵着墙壁的时候，我们都会更加努力地战斗，这也是为什么通道线通常能守住的原因。</p>
<p><strong>如果上涨的高度突破了上通道线，并且收盘价在通道线上方，这显示上升趋势异常强劲。当反弹未能触及上通道线时，则是熊市的信号，因为表明牛市变得更加虚弱</strong>。这反过来同样适用于下降的趋势。</p>
<p>最好的交易信号是用通道线和其他技术指标结合给出的<br>（1）当价格达到上通道线，而诸如MACD柱状线之类的指标却出现了熊市背离，则是卖出的信号。它说明多头正变得虚弱，价格上涨过度了<br>（2）当价格达到了下通道线，而指标出现了牛市背离，则是买入的信号。它表明熊市正变得弱势，价格已经到了低点。我们必须在多个时间周期中分析市场。当周线图是上升时，就要在日线图中寻找买入机会。当周线图是下降的时候，就要在日线图中寻找卖出机会。<br>（3）当通道是上升的时候，在接近移动均线的位置做多，当到达上通道线的时候兑现利润；当通道是下降的时候，在接近移动均线的位置做空，当到达下通道线的时候兑现利润。<br>当通道上升时，最好只在多头方向进行交易，在长期和短期移动均线之间的价值区间中买入，然后在上通道线位置上卖出；当通道是下降的，最好在价值区间内卖空，然后在下通道线位置回补头寸。</p>
<p>例子：<br><img src="Pasted image 20240129222200.png" srcset="/img/loading.gif" lazyload alt></p>
<p>区域A——当价格到达下通道线，MACD线的新低表明这个低点将会被再次确认或者突破。<br>区域B——通道线拒绝了突破，反弹有可能即将开始。<br>区域C——价格到达上通道线并且被弹回——有可能发生反转。<br>区域D——买入。价格已经到达下通道线，但MACD显示在A与D之间有牛市背离，中间由C点隔开<br>区域E——价格到达了上通道线，MACD创了新高，表明这个高点很有可能被再次确认或者突破。<br>区域F——完全回归价值区间；MACD向下突破到0值线之下，创造了一个熊市背离的迹象，但仍可买入等待回到前期高点<br>区域G——卖出并反向做空。价格已经到达了上通道线，然而MACD在高点E和G之间已经表现出熊市背离，中间由F点区隔开。</p>
<h4 id="标准背离通道（布林通道）"><a href="#标准背离通道（布林通道）" class="headerlink" title="标准背离通道（布林通道）"></a>标准背离通道（布林通道）</h4><p>这个通道线的特别之处在于它的宽度和市场的波动有关。它们的交易规则和常规的通道不一样。</p>
<p>当市场的波动性增大的时候，布林通道的宽度会增加；当市场波动性减小的时候，布林通道会变窄。窄的布林通道表明市场处于休眠的、安静的状态。大的行情常常从平坦的底部位置上爆发。布林通道帮助我们发现市场从安静到活跃的转变。</p>
<p>这些布林通道对于期权交易者十分有用，因为期权价格很大部分是由市场波动性所驱动。狭窄的布林通道指导你在波动性低、期权相对便宜的时候买入。宽的布林通道指导你在波动性很高、期权价格很高的时候卖出。</p>
<h2 id="交易工具"><a href="#交易工具" class="headerlink" title="交易工具"></a>交易工具</h2><p>交易工具被分为不同的门类。它们在电脑屏幕上的图表看起来可能很相似，但不要让它们的外表欺骗了你。它们每一类都有各自的优点和不足。它们提供的机会不同，具有的风险也不同。你所要做的最重要的市场决定之一就是选择什么品种去交易</p>
<p><strong>不管是哪一类，你需要确保所选交易工具满足两个重要的条件：流动性和波动性</strong></p>
<p><strong>流动性</strong>指与这一类别中的其他交易品种相比的日均成交量。日均成交量越大，你进入和退出交易就越容易。在流动性不好的股票中，你或许能建立浮盈的持仓，但当你退出时，却变成亏损，因为买卖价差特别大。</p>
<p><strong>波动性</strong>是交易品种短期运动的范围。交易品种的波动性越高，交易机会就越多。受欢迎的股票往往波动性很大。许多公共事业部门公司的股票流动性很好，但因为波动性很低，而很难交易——它们常常在狭窄的价格区间里震荡。</p>
<p>关于卖空可以看《以交易为生Ⅱ：卖出的艺术》</p>
<h4 id="股票"><a href="#股票" class="headerlink" title="股票"></a>股票</h4><p>找到自己有精力可以关注的股票数量</p>
<h4 id="ETF"><a href="#ETF" class="headerlink" title="ETF"></a>ETF</h4><p>此时的ETF只能买卖净值，作者认为ETF有些远离市场，而且不能做空，不喜欢，认为这样白白被收买入费用，而且还不见得比股票跑的好。现在国内的情况反而反过来，场内ETF开户可以免5，而股票则要比较高的印花税，而且不免5，因此我目前资金支撑不起直接买贵的股票，比如五粮液一手就13000</p>
<h4 id="期权"><a href="#期权" class="headerlink" title="期权"></a>期权</h4><h4 id="期货"><a href="#期货" class="headerlink" title="期货"></a>期货</h4><p>期货是以确定时间和确定价格，交割确定数量特定商品的合约</p>
<p>买入股票的人会成为公司股东中的一员，但是当你买一份期货合约的时候，你没有拥有任何东西。你只是买入了一份有约束力的合约，在未来的时点要买入某种商品，它可能是一车小麦，也可能是一捆国债。而卖给你期货的人则承诺了交割的义务。你用来买股票的钱会转移到卖出股票的人手中，但是在期货市场中，你存放的保证金还在清算中心，作为担保品，确保期货到期时你会按时交割。那就是为什么过去叫它“诚实金”。在股票市场中，你会为借钱而付出利息，但是在期货市场中，你还能获取保证金的利息。</p>
<p>在股票市场中，大多数人都只做多，只有很少人做空。在期货市场中，与期权市场一样，多头的规模和空头的规模总是相等的，因为如果有人买入一份开仓期货合约，必须有另外一个人对应地卖出开仓，也就是做空。<strong>如果你想交易期货，要对做空操作很顺手。</strong></p>
<p>新手在期货市场的生存率很低——据说十分之九的新手在最初几个月就会被洗出局。要理解，危险的并不是期货本身，而是新手的风险管理能力欠缺。期货给成熟的交易者提供了非常好的交易机会，但是对业余交易者来说是很危险的。在你到期货市场中冒险之前，必须培养自己卓越的资金管理能力（将在第49～51节中详细讲述）。</p>
<p>对于有很强资金管理能力的交易者，期货是非常有吸引力的。高收益率需要铁一般的纪律。新手炒变化更慢的股票会更好一些。一旦成为成熟的交易者，你观察期货会更加清晰。另外，读一些介绍性的书，比如乔治·安杰尔(George Angell)的《期货市场取胜之道》(Winning in the Futures Market)就是一本很好的书，其他的还有特维莱斯(Teweles)和琼斯(Jones)的《期货交易实用指南》(The Futures Game)。</p>
<p>套期保值是持有与其商品现货头寸相反方向的期货头寸。例如，大糖果厂商就能预测未来几个月需要多少糖。在糖的价格合适时，他可以在纽约或伦敦的期货市场买入相应数量的糖期货。在未来的几个月，他们需要的糖，通过持有糖期货的方式套期保值了，当他们需要进货的时候就卖掉相同数量的期货合约。如果糖的价格上涨了，糖果厂买入原材料需要支付更高价格，但是他们持有的期货头寸的盈利大致抵消了现货的损失。如果糖的价格下跌了，他们在期货合约上是赔钱的，但买入原材料的成本下降了。而那些没有进行套期保值的竞争对手正在经历着风险。如果价格下降了，他们会买到便宜货，得到一笔意外之财，但是如果价格上升了，他们就亏惨了。进行套期保值的消费者可以集中注意力于他们的核心业务，不用受到未来价格波动的干扰。比如航空公司提前几年就可以知道未来需要多少航空燃油，买入期货合约可以保护他们免受燃油价格波动的影响，而原油价格暴涨暴跌是很常见的。</p>
<p>商品生产者同样可以从套期保值中获利。农业生产者可以在价格足以保证获利的时候，提前出售他们的小麦、咖啡和棉花。他们可以卖空足够的期货合约来覆盖他们预期的产量。从这点上来说，他们没有价格风险。如果价格下跌了，他们会通过期货市场的盈利来弥补现货市场的损失。如果价格上涨了，他们在期货市场的头寸会有所损失，但是在更高的价格上卖出真实的商品又把损失弥补回来了。</p>
<p>在美国，玉米、糖和平缓时期的铜等品种对初学者来说是比较好的市场。它们流动性好，波动性大而且单价不是很贵。</p>
<p>我们在第9章（风险管理），将再讲到期货市场。你将学到期货合约是否适合交易取决于标的资产的价格、波动性和你账户里的资金规模。</p>
<h4 id="外汇"><a href="#外汇" class="headerlink" title="外汇"></a>外汇</h4>
                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/%E7%BB%8F%E6%B5%8E%E7%AE%A1%E7%90%86/" class="category-chain-item">经济管理</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/%E6%8A%95%E8%B5%84%E7%90%86%E8%B4%A2/" class="print-no-link">#投资理财</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>以交易为生（中）</div>
      <div>http://example.com/2024/01/28/以交易为生（中）/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>Cygnus</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2024年1月28日</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2024/01/29/%E4%BB%A5%E4%BA%A4%E6%98%93%E4%B8%BA%E7%94%9F%EF%BC%88%E4%B8%8B%EF%BC%89/" title="以交易为生（下）">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">以交易为生（下）</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2024/01/27/%E4%BB%A5%E4%BA%A4%E6%98%93%E4%B8%BA%E7%94%9F%EF%BC%88%E4%B8%8A%EF%BC%89/" title="以交易为生（上）">
                        <span class="hidden-mobile">以交易为生（上）</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
